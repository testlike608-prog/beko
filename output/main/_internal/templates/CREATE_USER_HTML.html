<!DOCTYPE html>
<html lang="en">
<head>
  <script>
(function() {
  function redirectBlocked() {
    window.location.href = '/blocked';
  }

  function initDevToolsProtection() {
    console.log('üõ°Ô∏è DevTools protection active');

    // ŸÖŸÜÿπ ŸÉŸÑŸäŸÉ ŸäŸÖŸäŸÜ
    document.addEventListener('contextmenu', e => e.preventDefault());

    // ŸÖŸÜÿπ ŸÖŸÅÿßÿ™Ÿäÿ≠ ŸÖÿπŸäŸÜÿ©
    document.addEventListener('keydown', e => {
      if (
        e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && (e.key.toUpperCase() === 'I' || e.key.toUpperCase() === 'J')) ||
        (e.ctrlKey && e.key.toUpperCase() === 'U')
      ) {
        e.preventDefault();
        e.stopPropagation();
        redirectBlocked();
        return false;
      }
    });

    // ŸÉÿ¥ŸÅ DevTools ÿ®ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ≠ÿ¨ŸÖ
    setInterval(() => {
      const widthDiff = window.outerWidth - window.innerWidth;
      const heightDiff = window.outerHeight - window.innerHeight;
      if (widthDiff > 160 || heightDiff > 160) {
        redirectBlocked();
      }
    }, 500);

    // ŸÉÿ¥ŸÅ DevTools ÿ®ÿ∑ÿ±ŸäŸÇÿ© console
    const check = () => {
      const start = performance.now();
      debugger; // ‚Üê ŸÑŸà ÿ£ÿØŸàÿßÿ™ ÿßŸÑŸÖÿ∑Ÿàÿ± ŸÖŸÅÿ™Ÿàÿ≠ÿ© Ÿáÿ™ÿ™ÿ£ÿÆÿ± ŸáŸÜÿß
      if (performance.now() - start > 50) {
        redirectBlocked();
      }
    };
    setInterval(check, 1000);
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initDevToolsProtection);
  } else {
    initDevToolsProtection();
  }
})();
</script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0f2027 0%, #203a43 40%, #2c5364 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    color: #e9eef3;
  }

  .login-container {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    padding: 40px;
    width: 100%;
    max-width: 400px;
    text-align: center;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  .login-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(90deg, #00c6ff, #0072ff, #00c6ff);
    animation: gradientMove 3s linear infinite;
    background-size: 200% 100%;
  }

  @keyframes gradientMove {
    0% { background-position: 0 0; }
    100% { background-position: 200% 0; }
  }

  .logo {
    width: 70px;
    height: 70px;
    margin: 0 auto 25px;
    background: linear-gradient(135deg, #00c6ff, #0072ff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 26px;
    font-weight: bold;
    box-shadow: 0 0 15px rgba(0, 114, 255, 0.6);
  }

  h1 {
    font-size: 26px;
    font-weight: 700;
    color: #fff;
    margin-bottom: 10px;
  }

  .subtitle {
    color: #a7b5c2;
    margin-bottom: 30px;
    font-size: 14px;
  }

  .form-group {
    margin-bottom: 20px;
    text-align: left;
  }

  .form-group label {
    display: block;
    font-size: 14px;
    font-weight: 500;
    color: #cfd9e3;
    margin-bottom: 8px;
  }

  .form-group input,
  .form-group select {
    width: 100%;
    padding: 14px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 12px;
    font-size: 15px;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.08);
    color: #f1f1f1;
    outline: none;
  }

  .form-group select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23a7b5c2' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 18px;
  }

  .form-group input::placeholder {
    color: #a7b5c2;
  }

  .form-group input:focus,
  .form-group select:focus {
    border-color: #00c6ff;
    box-shadow: 0 0 8px rgba(0, 198, 255, 0.3);
    background: rgba(255, 255, 255, 0.15);
  }

  .checkbox-group {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    font-size: 14px;
    color: #a7b5c2;
  }

  .checkbox-group input[type="checkbox"] {
    width: auto;
    margin-right: 8px;
    transform: scale(1.1);
  }

  .login-btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(90deg, #00c6ff, #0072ff);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0, 114, 255, 0.4);
  }

  .login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 198, 255, 0.5);
  }

  .links {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
  }

  .links a {
    color: #00c6ff;
    text-decoration: none;
    font-size: 14px;
    transition: color 0.3s;
  }

  .links a:hover {
    color: #0072ff;
    text-decoration: underline;
  }

  .divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.1);
    margin: 25px 0;
  }

  .social-login {
    display: flex;
    gap: 10px;
  }

  .social-btn {
    flex: 1;
    padding: 12px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.05);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: #e1e5eb;
  }

  .social-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: #00c6ff;
  }

  .social-icon {
    width: 20px;
    height: 20px;
    margin-right: 8px;
  }

  .error {
    background: rgba(255, 77, 77, 0.15);
    color: #ff8080;
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 14px;
    border: 1px solid rgba(255, 77, 77, 0.3);
  }

  .success {
    background: rgba(56, 255, 160, 0.12);
    color: #6effc1;
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 14px;
    border: 1px solid rgba(56, 255, 160, 0.3);
  }

  @media (max-width: 480px) {
    .login-container {
      padding: 30px 20px;
    }
    h1 {
      font-size: 22px;
    }
  }
</style>
</head>
<body>
    <a href="/home" 
style="position:absolute;top:20px;left:20px;font-size:18px;font-weight:600;color:#32E0FF;text-shadow:0 0 6px #32E0FF,0 0 10px #32E0FF;transition:.3s;"
onmouseover="this.style.textShadow='0 0 8px #32E0FF,0 0 15px #32E0FF,0 0 25px #32E0FF';this.style.transform='scale(1.05)'"
onmouseout="this.style.textShadow='0 0 6px #32E0FF,0 0 10px #32E0FF';this.style.transform='scale(1)'"
>
‚Üê Back to Console
</a>




  <div class="login-container">
    <div class="logo">M</div>
    <h1>Create New User</h1>
    <!--p class="subtitle">Please sign in to your account</p-->
    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}
    {% if message %}
    <div class="success">{{ message }}</div>
    {% endif %}
   <form method="POST" action="/create_user">
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" required placeholder="Enter your username">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required placeholder="Enter your password">
      </div>
      <div class="form-group">
       <label for="auth">Authentication</label>
        <select name="Authentication" id="auth" onchange="toggleAuthFields()">
          <option value="">--choose--</option>
          <option value="admin" {% if NewUser_data.get('auth') == 'admin' %}selected{% endif %}>Admin</option>
          <option value="user" {% if NewUser_data.get('auth') == 'user' %}selected{% endif %}>User</option>
        </select>
      </div>
      <button type="submit" class="login-btn">ADD</button>
    </form>
  </div>
  <script>
  document.addEventListener('contextmenu', event => event.preventDefault());
  document.onkeydown = function(e) {
    if (e.keyCode == 123) { // F12
      return false;
    } else if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
      return false;
    } else if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
      return false;
    } else if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
      return false;
    }
   }
 </script>

{% if csv_files %}
    <section class="card">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">Saved Programs</h2>
        <div class="text-xs opacity-75">Newest first</div>
      </div>
      <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2" id="programGrid">
        {% for file in csv_files %}
        <button class="w-full text-left border rounded-lg p-2 hover:bg-slate-50/30" onclick="showProgramData('{{ file.name }}')">
          <div class="font-medium text-sm truncate" title="{{ file.name }}">{{ file.name }}</div>
          <div class="text-[11px] opacity-70">{{ (file.size/1024)|round(1) }} KB</div>
        </button>
        {% endfor %}
      </div>
    </section>
    {% endif %}
</body>
</html>